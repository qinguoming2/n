<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta name="generator" content="Quarkdown">
    <meta charset="UTF-8">
    <meta name="description" content="a blog demo">
    <meta name="author" content="qinguoming">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="quarkdown:root-path" content="..">
    <title>blog</title>
    <script src="../script/quarkdown.js"></script>
    <script>const capabilities = window.quarkdownCapabilities</script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" rel="stylesheet">
    <link href="../theme/theme.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.9.0/highlightjs-line-numbers.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <link href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" rel="stylesheet">
    <script>capabilities.code = true;</script>
    <style>@font-face { font-family: '-503305824'; src: local('Consolas'); }

body {
    --qd-code-custom-font: '-503305824';
    --qd-main-font-size: 12.0pt;}

body.quarkdown-plain.quarkdown-plain,
body.quarkdown-docs.quarkdown-docs {
}

body.quarkdown-slides.quarkdown-slides .reveal {
}

@page {
    size: auto auto;
    margin: 0;}

p {
}</style>
    <script>prepare(new PlainDocument());</script>
<template id="sidebar-template"><nav class="sidebar" role="doc-toc"><ol><li data-target-id="python与matlab在提取子块矩阵的差异" data-depth="1"><a href="#python与matlab在提取子块矩阵的差异">Python与Matlab在提取子块矩阵的差异</a></li></ol></nav>
</template>  </head>
  <body class="quarkdown quarkdown-plain">
    <aside class="margin-area" id="margin-area-left"></aside>
    <main><div class="page-break" data-hidden=""></div><h1 id="python与matlab在提取子块矩阵的差异">Python与Matlab在提取子块矩阵的差异</h1><div class="container fullwidth" style="justify-items: end; text-align: end;"><p><a href="https://qinguoming.pages.dev/">返回 主页</a></p></div><p>python 中numpy库可以实现类似matlab多维数组的运算.但两者在索引方式上存在一些差异.这是需要注意的.例如:</p><pre><code class="language-shell">% 定义一个4*4矩阵
A=1:16;
A=reshape(A,[4,4]);

% 提取2*2的子矩阵
a=A([1,4],[1,4])

% 得到一个2*2矩阵:
% [ A(1,1) A(1,4);
%   A(4,1) A(4,4) ]</code></pre><p>但是python中则不能这样得到子矩阵:</p><pre><code class="language-shell">import numpy as np
A = np.array([[1, 2, 3, 4],
              [5, 6, 7, 8],
              [9, 10, 11, 12],
              [13, 14, 15, 16]])
# 获取与MATLAB相同的2x2矩阵
a = A[[0,3],[0,3]]

print(a)
# 输出结果:[2,7]</code></pre><p>在MATLAB中,使用<span class="codespan-content"><code>A([0, 1], [1, 2])</code></span>得到的是一个2x2矩阵,而在Python中使用NumPy进行类似的索引操作时,结果会有所不同.在MATLAB中,这个索引操作实际上返回的是矩阵<span class="codespan-content"><code>A</code></span>中第1行和第2行的第2列和第3列元素组成的矩阵,即:</p><pre><code class="language-shell">[ A(1,2) A(1,3);
  A(2,2) A(2,3) ]</code></pre><p>这将得到一个2x2的矩阵. 在Python中使用NumPy库,要得到与MATLAB相同的结果,您需要使用如下的索引方式:</p><pre><code class="language-shell">import numpy as np

A = np.array([[1, 2, 3, 4],
              [5, 6, 7, 8],
              [9, 10, 11, 12],
              [13, 14, 15, 16]])

# 获取与MATLAB相同的2x2矩阵
a = A[np.ix_([0, 1], [1, 2])]
print(a)
# a=
# [[ 2  3]
# [ 6  7]]</code></pre><p>这里<span class="codespan-content"><code>np.ix_</code></span>函数用于创建一个索引数组,它允许我们按照MATLAB的索引方式来选择矩阵的子集.这段代码将得到与MATLAB相同的2x2矩阵结果:</p><div class="container fullwidth" style="justify-items: end; text-align: end;"><p><a href="https://qinguoming.pages.dev/">返回 主页</a></p></div></main>
    <aside class="margin-area" id="margin-area-right"></aside>
  </body>
</html>
