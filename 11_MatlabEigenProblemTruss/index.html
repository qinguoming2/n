<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta name="generator" content="Quarkdown">
    <meta charset="UTF-8">
    <meta name="description" content="a blog demo">
    <meta name="author" content="qinguoming">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="quarkdown:root-path" content="..">
    <title>blog</title>
    <script src="../script/quarkdown.js"></script>
    <script>const capabilities = window.quarkdownCapabilities</script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" rel="stylesheet">
    <link href="../theme/theme.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.9.0/highlightjs-line-numbers.min.js"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <link href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" rel="stylesheet">
    <script>capabilities.code = true;</script>
    <style>@font-face { font-family: '-503305824'; src: local('Consolas'); }

body {
    --qd-code-custom-font: '-503305824';
    --qd-main-font-size: 12.0pt;}

body.quarkdown-plain.quarkdown-plain,
body.quarkdown-docs.quarkdown-docs {
}

body.quarkdown-slides.quarkdown-slides .reveal {
}

@page {
    size: auto auto;
    margin: 0;}

p {
}</style>
    <script>prepare(new PlainDocument());</script>
<template id="sidebar-template"><nav class="sidebar" role="doc-toc"><ol><li data-target-id="matlab特征值求解-简单平面桁架" data-depth="1"><a href="#matlab特征值求解-简单平面桁架">Matlab特征值求解: 简单平面桁架</a><ol><li data-target-id="问题描述" data-depth="2"><a href="#问题描述">问题描述</a></li><li data-target-id="matlab计算程序" data-depth="2"><a href="#matlab计算程序">matlab计算程序</a></li><li data-target-id="计算结果" data-depth="2"><a href="#计算结果">计算结果</a></li></ol></li></ol></nav>
</template>  </head>
  <body class="quarkdown quarkdown-plain">
    <aside class="margin-area" id="margin-area-left"></aside>
    <main><div class="page-break" data-hidden=""></div><h1 id="matlab特征值求解-简单平面桁架">Matlab特征值求解: 简单平面桁架</h1><div class="container fullwidth" style="justify-items: end; text-align: end;"><p><a href="https://qinguoming.pages.dev/">返回 主页</a></p></div><h2 id="问题描述">问题描述</h2><figure><img src="media/image-1@122286045.png" alt="alt text" /></figure><figure><img src="media/image@-1891219335.png" alt="alt text" /></figure><h2 id="matlab计算程序">matlab计算程序</h2><pre><code class="language-shell">% 材料与几何参数
E = 2.1e11;          % 弹性模量 (Pa)，钢的典型值
A = 1e-4;            % 杆件截面积 (m²)
density = 7.3e3;     % 材料密度 (kg/m³)，钢的密度
node_number = 5;     % 节点总数
element_number = 7;  % 单元总数

% 节点坐标矩阵 [x1,y1; x2,y2; ...]
nc = [0,0; 1,0; 2,0; 0,1; 1,1]; % 节点1-5的坐标

% 单元-节点拓扑关系 [起始节点, 结束节点]
en = [1,2; 2,3; 1,4; 2,4; 2,5; 3,5; 4,5]; % 定义7个杆件单元

% 初始化自由度状态矩阵 (1=自由, 0=固定)
ed = ones(node_number, 2); % ed(i,j): 节点i在j方向的状态 (j=1:x, j=2:y)

% 定义约束 [节点号, 方向] (方向1:x, 2:y)
constraint = [1,1; 1,2; 3,2]; % 节点1固定x和y，节点3固定y

% 应用约束：将ed对应位置置0
for loopi = 1:length(constraint)
    ed(constraint(loopi,1), constraint(loopi,2)) = 0;
end

% 分配全局自由度编号 (仅对未约束的自由度)
dof = 0; % 自由度计数器
for loopi = 1:node_number
    for loopj = 1:2
        if ed(loopi,loopj) ~= 0
            dof = dof + 1;
            ed(loopi,loopj) = dof; % 分配全局编号
        end
    end
end
% 初始化单元参数
el = zeros(1,7);       % 存储每个单元的长度
theta = zeros(1,7);    % 存储每个单元的角度（弧度）
e2s = zeros(1,4);      % 单元自由度到系统自由度的映射

% 定义局部坐标系下的单元刚度矩阵 (4x4, 杆件轴向刚度)
ek = E*A*[1  0 -1  0;   % 局部刚度矩阵 (忽略横向自由度)
          0  0  0  0;
         -1  0  1  0;
          0  0  0  0];

% 定义局部坐标系下的单元质量矩阵 (集中质量模型)
em = (density*A)/2 * eye(4); % 质量均分到两端节点

% 初始化全局刚度矩阵和质量矩阵
k = zeros(dof, dof); % 结构刚度矩阵
m = zeros(dof, dof); % 结构质量矩阵

% 遍历所有单元，组装全局矩阵
for loopi = 1:element_number
    % 获取单元自由度映射 (e2s: [u1x, u1y, u2x, u2y]的系统编号)
    for zi = 1:2
        e2s((zi-1)*2 + 1) = ed(en(loopi,zi), 1); % 节点x方向
        e2s((zi-1)*2 + 2) = ed(en(loopi,zi), 2); % 节点y方向
    end

    % 计算单元长度和角度
    dx = nc(en(loopi,2),1) - nc(en(loopi,1),1);
    dy = nc(en(loopi,2),2) - nc(en(loopi,1),2);
    el(loopi) = sqrt(dx^2 + dy^2);              % 单元长度
    theta(loopi) = atan2(dy, dx);               % 单元角度（弧度）

    % 坐标转换矩阵 (局部→全局)
    lmd = [cos(theta(loopi)),  sin(theta(loopi));
           -sin(theta(loopi)), cos(theta(loopi))];
    t = [lmd, zeros(2); zeros(2), lmd];         % 4x4转换矩阵

    % 转换刚度矩阵和质量矩阵到全局坐标系
    dk = t&#39; * ek * t / el(loopi);               % 全局刚度矩阵
    dm = t&#39; * em * t * el(loopi);               % 全局质量矩阵

    % 组装到全局矩阵 (忽略固定自由度)
    for jx = 1:4
        for jy = 1:4
            if (e2s(jx) ~= 0 &amp;&amp; e2s(jy) ~= 0)   % 仅组装自由自由度
                k(e2s(jx), e2s(jy)) = k(e2s(jx), e2s(jy)) + dk(jx,jy);
                m(e2s(jx), e2s(jy)) = m(e2s(jx), e2s(jy)) + dm(jx,jy);
            end
        end
    end
end
% 求解广义特征值问题: K*V = M*V*D
[v, d] = eig(k, m); % v: 特征向量矩阵, d: 特征值对角矩阵

% 计算固有频率 (Hz)
frequency = sqrt(diag(d)) / (2*pi); % 特征值=ω², ω=2πf

% 按频率升序排序
[frequency, indexf] = sort(frequency);
d = d(:, indexf); % 重排特征值
v = v(:, indexf); % 重排特征向量</code></pre><h2 id="计算结果">计算结果</h2><ul><li>matlab</li></ul><figure><img src="media/image-2@125535324.png" alt="" /></figure><figure><img src="media/image-3@124107999.png" alt="alt text" /></figure><div class="container fullwidth" style="justify-items: end; text-align: end;"><p><a href="https://qinguoming.pages.dev/">返回 主页</a></p></div></main>
    <aside class="margin-area" id="margin-area-right"></aside>
  </body>
</html>
